---
name: Users Resource
path: "/api/v1/uws"
resources:
  - name: 'Register user'
    path: "/auth/register"
    methods:
      post:
        http:
          endpoint: "{{users_ms}}/auth/register"
          method: post
          request_interceptor:
            - apikey
        content_handling: passthrough #[passthrough|to_binary|to_text]
  - name: 'Recover user password'
    path: "/auth/recover"
    methods:
      post:
        http:
          endpoint: "{{users_ms}}/auth/recover"
          method: post
        content_handling: passthrough #[passthrough|to_binary|to_text]
  - name: 'Login user'
    path: "/auth"
    methods:
      post:
        name: 'Login user'
        http:
          endpoint: "{{users_ms}}/auth"
          method: post
          request_interceptor:
            - apikey
        content_handling: passthrough #[passthrough|to_binary|to_text]
  - name: ''
    path: "/*"
    methods:
      all:
        name: ''
        http:
          endpoint: "{{users_ms}}/:proxy"
          method: all
          request_interceptor:
            - authenticator
            - apikey
  #        response_interceptor:
  #          - response
        proxy: true
        content_handling: passthrough #[passthrough|to_binary|to_text]

